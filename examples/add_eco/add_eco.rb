#!/usr/bin/env ruby

# Chess Toolkit: a software library for creating chess programs
# Copyright (C) 2013 Steve Ortiz
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

require 'chess_toolkit'

def main
  if (ARGV.length != 1)
    puts "Usage: add_eco.rb <file.pgn>"
    exit
  end

  filename = ARGV[0]
  file = File.open(filename)
  unless file
    puts "Could not open #{filename}"
    exit
  end

  graph = CtGraph.new
  game_tags = CtGameTags.new

  begin
    graph.from_pgn(file, game_tags) do
      ECOHelper.add_eco(graph, game_tags)
      pgn = graph.to_pgn(game_tags)
      puts "#{pgn}\n"
    end
  rescue Exception => e
    puts e.message
  end
end

class ECOHelper
  def ECOHelper.add_eco(graph, game_tags)
    ECOHelper.setup_eco_hash unless @@eco_hash
    eco = nil
    graph.for_each_move_made do |move|
      eco = @@eco_hash[graph.position_hash] || eco
    end
    eco = @@eco_hash[graph.position_hash] || eco
    game_tags.set("ECO", eco)
  end
private
  def ECOHelper.setup_eco_hash
    @@eco_hash = Hash.new
    graph = CtGraph.new
    @@eco_list.each_pair do |moves, eco|
      graph.from_pgn(moves)
      hash = graph.position_hash
      if @@eco_hash[hash]
        puts "ERROR: #{eco.to_s} and #{@@eco_hash[hash]} are the same"
        exit
      end
      @@eco_hash[hash] = eco.to_s
    end
  end
  @@eco_hash = nil
  # ECO is not as standard as you'd think, but I painstakingly compared many different sources
  # and used my own judgement to come up with the following list, which you are welcome to use.
  # Note: there is one code (B21) that is defined by two different lines; the other lines can
  # be characterized by a single line.
  @@eco_list = {
    "" => "A00",
    "1. b3" => "A01",
    "1. f4" => "A02",
    "1. f4 d5" => "A03",
    "1. Nf3" => "A04",
    "1. Nf3 Nf6" => "A05",
    "1. Nf3 d5" => "A06",
    "1. Nf3 d5 2. g3" => "A07",
    "1. Nf3 d5 2. g3 c5 3. Bg2" => "A08",
    "1. Nf3 d5 2. c4" => "A09",
    "1. c4" => "A10",
    "1. c4 c6" => "A11",
    "1. c4 c6 2. Nf3 d5 3. b3" => "A12",
    "1. c4 e6" => "A13",
    "1. c4 e6 2. Nf3 d5 3. g3 Nf6 4. Bg2 Be7 5. O-O" => "A14",
    "1. c4 Nf6" => "A15",
    "1. c4 Nf6 2. Nc3" => "A16",
    "1. c4 Nf6 2. Nc3 e6" => "A17",
    "1. c4 Nf6 2. Nc3 e6 3. e4" => "A18",
    "1. c4 Nf6 2. Nc3 e6 3. e4 c5" => "A19",
    "1. c4 e5" => "A20",
    "1. c4 e5 2. Nc3" => "A21",
    "1. c4 e5 2. Nc3 Nf6" => "A22",
    "1. c4 e5 2. Nc3 Nf6 3. g3 c6" => "A23",
    "1. c4 e5 2. Nc3 Nf6 3. g3 g6" => "A24",
    "1. c4 e5 2. Nc3 Nc6" => "A25",
    "1. c4 e5 2. Nc3 Nc6 3. g3 g6 4. Bg2 Bg7 5. d3 d6" => "A26",
    "1. c4 e5 2. Nc3 Nc6 3. Nf3" => "A27",
    "1. c4 e5 2. Nc3 Nc6 3. Nf3 Nf6" => "A28",
    "1. c4 e5 2. Nc3 Nc6 3. Nf3 Nf6 4. g3" => "A29",
    "1. c4 c5" => "A30",
    "1. c4 c5 2. Nf3 Nf6 3. d4" => "A31",
    "1. c4 c5 2. Nf3 Nf6 3. d4 cxd4 4. Nxd4 e6" => "A32",
    "1. c4 c5 2. Nf3 Nf6 3. d4 cxd4 4. Nxd4 e6 5. Nc3 Nc6" => "A33",
    "1. c4 c5 2. Nc3" => "A34",
    "1. c4 c5 2. Nc3 Nc6" => "A35",
    "1. c4 c5 2. Nc3 Nc6 3. g3" => "A36",
    "1. c4 c5 2. Nc3 Nc6 3. g3 g6 4. Bg2 Bg7 5. Nf3" => "A37",
    "1. c4 c5 2. Nc3 Nc6 3. g3 g6 4. Bg2 Bg7 5. Nf3 Nf6" => "A38",
    "1. c4 c5 2. Nc3 Nc6 3. g3 g6 4. Bg2 Bg7 5. Nf3 Nf6 6. O-O O-O 7. d4" => "A39",
    "1. d4" => "A40",
    "1. d4 d6" => "A41",
    "1. d4 d6 2. c4 g6 3. Nc3 Bg7 4. e4" => "A42",
    "1. d4 c5" => "A43",
    "1. d4 c5 2. d5 e5" => "A44",
    "1. d4 Nf6" => "A45",
    "1. d4 Nf6 2. Nf3" => "A46",
    "1. d4 Nf6 2. Nf3 b6" => "A47",
    "1. d4 Nf6 2. Nf3 g6" => "A48",
    "1. d4 Nf6 2. Nf3 g6 3. g3" => "A49",
    "1. d4 Nf6 2. c4" => "A50",
    "1. d4 Nf6 2. c4 e5" => "A51",
    "1. d4 Nf6 2. c4 e5 3. dxe5 Ng4" => "A52",
    "1. d4 Nf6 2. c4 d6" => "A53",
    "1. d4 Nf6 2. c4 d6 3. Nc3 e5 4. Nf3" => "A54",
    "1. d4 Nf6 2. c4 d6 3. Nc3 e5 4. Nf3 Nbd7 5. e4" => "A55",
    "1. d4 Nf6 2. c4 c5" => "A56",
    "1. d4 Nf6 2. c4 c5 3. d5 b5" => "A57",
    "1. d4 Nf6 2. c4 c5 3. d5 b5 4. cxb5 a6 5. bxa6" => "A58",
    "1. d4 Nf6 2. c4 c5 3. d5 b5 4. cxb5 a6 5. bxa6 Bxa6 6. Nc3 d6 7. e4" => "A59",
    "1. d4 Nf6 2. c4 c5 3. d5 e6" => "A60",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. Nf3 g6" => "A61",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. Nf3 g6 7. g3 Bg7 8. Bg2 O-O" => "A62",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. Nf3 g6 7. g3 Bg7 8. Bg2 O-O 9. O-O Nbd7" => "A63",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. Nf3 g6 7. g3 Bg7 8. Bg2 O-O 9. O-O Nbd7 10. Nd2 a6 11. a4 Re8" => "A64",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4" => "A65",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. f4" => "A66",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. f4 Bg7 8. Bb5+" => "A67",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. f4 Bg7 8. Nf3 O-O" => "A68",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. f4 Bg7 8. Nf3 O-O 9. Be2 Re8" => "A69",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3" => "A70",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Bg5" => "A71",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Be2 O-O" => "A72",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Be2 O-O 9. O-O" => "A73",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Be2 O-O 9. O-O a6" => "A74",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Be2 O-O 9. O-O a6 10. a4 Bg4" => "A75",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Be2 O-O 9. O-O Re8" => "A76",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Be2 O-O 9. O-O Re8 10. Nd2" => "A77",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Be2 O-O 9. O-O Re8 10. Nd2 Na6" => "A78",
    "1. d4 Nf6 2. c4 c5 3. d5 e6 4. Nc3 exd5 5. cxd5 d6 6. e4 g6 7. Nf3 Bg7 8. Be2 O-O 9. O-O Re8 10. Nd2 Na6 11. f3" => "A79",
    "1. d4 f5" => "A80",
    "1. d4 f5 2. g3" => "A81",
    "1. d4 f5 2. e4" => "A82",
    "1. d4 f5 2. e4 fxe4 3. Nc3 Nf6 4. Bg5" => "A83",
    "1. d4 f5 2. c4" => "A84",
    "1. d4 f5 2. c4 Nf6 3. Nc3" => "A85",
    "1. d4 f5 2. c4 Nf6 3. g3" => "A86",
    "1. d4 f5 2. c4 Nf6 3. g3 g6 4. Bg2 Bg7 5. Nf3" => "A87",
    "1. d4 f5 2. c4 Nf6 3. g3 g6 4. Bg2 Bg7 5. Nf3 O-O 6. O-O d6 7. Nc3 c6" => "A88",
    "1. d4 f5 2. c4 Nf6 3. g3 g6 4. Bg2 Bg7 5. Nf3 O-O 6. O-O d6 7. Nc3 Nc6" => "A89",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2" => "A90",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7" => "A91",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O" => "A92",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d5 7. b3" => "A93",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d5 7. b3 c6 8. Ba3" => "A94",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d5 7. Nc3 c6" => "A95",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d6" => "A96",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d6 7. Nc3 Qe8" => "A97",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d6 7. Nc3 Qe8 8. Qc2" => "A98",
    "1. d4 f5 2. c4 Nf6 3. g3 e6 4. Bg2 Be7 5. Nf3 O-O 6. O-O d6 7. Nc3 Qe8 8. b3" => "A99",
    "1. e4" => "B00",
    "1. e4 d5" => "B01",
    "1. e4 Nf6" => "B02",
    "1. e4 Nf6 2. e5 Nd5 3. d4" => "B03",
    "1. e4 Nf6 2. e5 Nd5 3. d4 d6 4. Nf3" => "B04",
    "1. e4 Nf6 2. e5 Nd5 3. d4 d6 4. Nf3 Bg4" => "B05",
    "1. e4 g6" => "B06",
    "1. e4 d6" => "B07",
    "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. Nf3" => "B08",
    "1. e4 d6 2. d4 Nf6 3. Nc3 g6 4. f4" => "B09",
    "1. e4 c6" => "B10",
    "1. e4 c6 2. Nc3 d5 3. Nf3 Bg4" => "B11",
    "1. e4 c6 2. d4" => "B12",
    "1. e4 c6 2. d4 d5 3. exd5 cxd5" => "B13",
    "1. e4 c6 2. d4 d5 3. exd5 cxd5 4. c4 Nf6 5. Nc3" => "B14",
    "1. e4 c6 2. d4 d5 3. Nc3" => "B15",
    "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nf6 5. Nxf6+ gxf6" => "B16",
    "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Nd7" => "B17",
    "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5" => "B18",
    "1. e4 c6 2. d4 d5 3. Nc3 dxe4 4. Nxe4 Bf5 5. Ng3 Bg6 6. h4 h6 7. Nf3 Nd7" => "B19",
    "1. e4 c5" => "B20",
    "1. e4 c5 2. d4" => "B21",
    "1. e4 c5 2. f4" => "B21",
    "1. e4 c5 2. c3" => "B22",
    "1. e4 c5 2. Nc3" => "B23",
    "1. e4 c5 2. Nc3 Nc6 3. g3" => "B24",
    "1. e4 c5 2. Nc3 Nc6 3. g3 g6 4. Bg2 Bg7 5. d3 d6" => "B25",
    "1. e4 c5 2. Nc3 Nc6 3. g3 g6 4. Bg2 Bg7 5. d3 d6 6. Be3" => "B26",
    "1. e4 c5 2. Nf3" => "B27",
    "1. e4 c5 2. Nf3 a6" => "B28",
    "1. e4 c5 2. Nf3 Nf6" => "B29",
    "1. e4 c5 2. Nf3 Nc6" => "B30",
    "1. e4 c5 2. Nf3 Nc6 3. Bb5 g6" => "B31",
    "1. e4 c5 2. Nf3 Nc6 3. d4" => "B32",
    "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 Nf6" => "B33",
    "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6" => "B34",
    "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. Nc3 Bg7 6. Be3 Nf6 7. Bc4" => "B35",
    "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. c4" => "B36",
    "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. c4 Bg7" => "B37",
    "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. c4 Bg7 6. Be3" => "B38",
    "1. e4 c5 2. Nf3 Nc6 3. d4 cxd4 4. Nxd4 g6 5. c4 Bg7 6. Be3 Nf6 7. Nc3 Ng4" => "B39",
    "1. e4 c5 2. Nf3 e6" => "B40",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 a6" => "B41",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 a6 5. Bd3" => "B42",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 a6 5. Nc3" => "B43",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 Nc6" => "B44",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 Nc6 5. Nc3" => "B45",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 Nc6 5. Nc3 a6" => "B46",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 Nc6 5. Nc3 Qc7" => "B47",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 Nc6 5. Nc3 Qc7 6. Be3" => "B48",
    "1. e4 c5 2. Nf3 e6 3. d4 cxd4 4. Nxd4 Nc6 5. Nc3 Qc7 6. Be3 a6 7. Be2" => "B49",
    "1. e4 c5 2. Nf3 d6" => "B50",
    "1. e4 c5 2. Nf3 d6 3. Bb5+" => "B51",
    "1. e4 c5 2. Nf3 d6 3. Bb5+ Bd7" => "B52",
    "1. e4 c5 2. Nf3 d6 3. d4" => "B53",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4" => "B54",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. f3 e5 6. Bb5+" => "B55",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3" => "B56",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bc4" => "B57",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Be2" => "B58",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Be2 e5 7. Nb3" => "B59",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5" => "B60",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 Bd7 7. Qd2" => "B61",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 e6" => "B62",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 e6 7. Qd2" => "B63",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 e6 7. Qd2 Be7 8. O-O-O O-O 9. f4" => "B64",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 e6 7. Qd2 Be7 8. O-O-O O-O 9. f4 Nxd4 10. Qxd4" => "B65",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 e6 7. Qd2 a6" => "B66",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 e6 7. Qd2 a6 8. O-O-O Bd7" => "B67",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 e6 7. Qd2 a6 8. O-O-O Bd7 9. f4 Be7" => "B68",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 Nc6 6. Bg5 e6 7. Qd2 a6 8. O-O-O Bd7 9. f4 Be7 10. Nf3 b5 11. Bxf6" => "B69",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6" => "B70",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. f4" => "B71",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3" => "B72",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. Be2 Nc6 8. O-O" => "B73",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. Be2 Nc6 8. O-O O-O 9. Nb3" => "B74",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3" => "B75",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O" => "B76",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4" => "B77",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Bd7 10. O-O-O" => "B78",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 g6 6. Be3 Bg7 7. f3 O-O 8. Qd2 Nc6 9. Bc4 Bd7 10. O-O-O Qa5 11. Bb3 Rfc8 12. h4" => "B79",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6" => "B80",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. g4" => "B81",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. f4" => "B82",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. Be2" => "B83",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. Be2 a6" => "B84",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. Be2 a6 7. O-O" => "B85",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. Bc4" => "B86",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. Bc4 a6 7. Bb3 b5" => "B87",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. Bc4 Nc6" => "B88",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 e6 6. Bc4 Nc6 7. Be3" => "B89",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6" => "B90",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. g3" => "B91",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Be2" => "B92",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. f4" => "B93",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5" => "B94",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6" => "B95",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4" => "B96",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Qb6" => "B97",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7" => "B98",
    "1. e4 c5 2. Nf3 d6 3. d4 cxd4 4. Nxd4 Nf6 5. Nc3 a6 6. Bg5 e6 7. f4 Be7 8. Qf3 Qc7 9. O-O-O Nbd7" => "B99",
    "1. e4 e6" => "C00",
    "1. e4 e6 2. d4 d5 3. exd5 exd5" => "C01",
    "1. e4 e6 2. d4 d5 3. e5" => "C02",
    "1. e4 e6 2. d4 d5 3. Nd2" => "C03",
    "1. e4 e6 2. d4 d5 3. Nd2 Nc6 4. Ngf3 Nf6" => "C04",
    "1. e4 e6 2. d4 d5 3. Nd2 Nf6" => "C05",
    "1. e4 e6 2. d4 d5 3. Nd2 Nf6 4. e5 Nfd7 5. Bd3 c5 6. c3 Nc6 7. Ne2 cxd4 8. cxd4" => "C06",
    "1. e4 e6 2. d4 d5 3. Nd2 c5" => "C07",
    "1. e4 e6 2. d4 d5 3. Nd2 c5 4. exd5 exd5" => "C08",
    "1. e4 e6 2. d4 d5 3. Nd2 c5 4. exd5 exd5 5. Ngf3 Nc6" => "C09",
    "1. e4 e6 2. d4 d5 3. Nc3" => "C10",
    "1. e4 e6 2. d4 d5 3. Nc3 Nf6" => "C11",
    "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Bb4" => "C12",
    "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Be7" => "C13",
    "1. e4 e6 2. d4 d5 3. Nc3 Nf6 4. Bg5 Be7 5. e5 Nfd7 6. Bxe7 Qxe7" => "C14",
    "1. e4 e6 2. d4 d5 3. Nc3 Bb4" => "C15",
    "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5" => "C16",
    "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5" => "C17",
    "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3" => "C18",
    "1. e4 e6 2. d4 d5 3. Nc3 Bb4 4. e5 c5 5. a3 Bxc3+ 6. bxc3 Ne7" => "C19",
    "1. e4 e5" => "C20",
    "1. e4 e5 2. d4 exd4" => "C21",
    "1. e4 e5 2. d4 exd4 3. Qxd4 Nc6" => "C22",
    "1. e4 e5 2. Bc4" => "C23",
    "1. e4 e5 2. Bc4 Nf6" => "C24",
    "1. e4 e5 2. Nc3" => "C25",
    "1. e4 e5 2. Nc3 Nf6" => "C26",
    "1. e4 e5 2. Nc3 Nf6 3. Bc4 Nxe4" => "C27",
    "1. e4 e5 2. Nc3 Nf6 3. Bc4 Nc6" => "C28",
    "1. e4 e5 2. Nc3 Nf6 3. f4" => "C29",
    "1. e4 e5 2. f4" => "C30",
    "1. e4 e5 2. f4 d5" => "C31",
    "1. e4 e5 2. f4 d5 3. exd5 e4" => "C32",
    "1. e4 e5 2. f4 exf4" => "C33",
    "1. e4 e5 2. f4 exf4 3. Nf3" => "C34",
    "1. e4 e5 2. f4 exf4 3. Nf3 Be7" => "C35",
    "1. e4 e5 2. f4 exf4 3. Nf3 d5" => "C36",
    "1. e4 e5 2. f4 exf4 3. Nf3 g5" => "C37",
    "1. e4 e5 2. f4 exf4 3. Nf3 g5 4. Bc4 Bg7" => "C38",
    "1. e4 e5 2. f4 exf4 3. Nf3 g5 4. h4" => "C39",
    "1. e4 e5 2. Nf3" => "C40",
    "1. e4 e5 2. Nf3 d6" => "C41",
    "1. e4 e5 2. Nf3 Nf6" => "C42",
    "1. e4 e5 2. Nf3 Nf6 3. d4" => "C43",
    "1. e4 e5 2. Nf3 Nc6" => "C44",
    "1. e4 e5 2. Nf3 Nc6 3. d4 exd4 4. Nxd4" => "C45",
    "1. e4 e5 2. Nf3 Nc6 3. Nc3" => "C46",
    "1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6" => "C47",
    "1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5" => "C48",
    "1. e4 e5 2. Nf3 Nc6 3. Nc3 Nf6 4. Bb5 Bb4" => "C49",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4" => "C50",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. b4" => "C51",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. b4 Bxb4 5. c3 Ba5" => "C52",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. c3" => "C53",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. c3 Nf6" => "C54",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Nf6" => "C55",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Nf6 4. d4 exd4 5. O-O Nxe4" => "C56",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Nf6 4. Ng5" => "C57",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Nf6 4. Ng5 d5 5. exd5 Na5" => "C58",
    "1. e4 e5 2. Nf3 Nc6 3. Bc4 Nf6 4. Ng5 d5 5. exd5 Na5 6. Bb5+ c6 7. dxc6 bxc6 8. Be2 h6" => "C59",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5" => "C60",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nd4" => "C61",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 d6" => "C62",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 f5" => "C63",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 Bc5" => "C64",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6" => "C65",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O d6" => "C66",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 Nf6 4. O-O Nxe4" => "C67",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Bxc6" => "C68",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Bxc6 dxc6 5. O-O" => "C69",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4" => "C70",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6" => "C71",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. O-O" => "C72",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. Bxc6+ bxc6 6. d4" => "C73",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3" => "C74",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 Bd7" => "C75",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 d6 5. c3 Bd7 6. d4 g6" => "C76",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6" => "C77",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O" => "C78",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O d6" => "C79",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Nxe4" => "C80",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Nxe4 6. d4 b5 7. Bb3 d5 8. dxe5 Be6 9. Qe2" => "C81",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Nxe4 6. d4 b5 7. Bb3 d5 8. dxe5 Be6 9. c3" => "C82",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Nxe4 6. d4 b5 7. Bb3 d5 8. dxe5 Be6 9. c3 Be7" => "C83",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7" => "C84",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Bxc6" => "C85",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Qe2" => "C86",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1" => "C87",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3" => "C88",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d5" => "C89",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6" => "C90",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. d4" => "C91",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3" => "C92",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 h6" => "C93",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 Nb8" => "C94",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 Nb8 10. d4" => "C95",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 Na5 10. Bc2" => "C96",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 Na5 10. Bc2 c5 11. d4 Qc7" => "C97",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 Na5 10. Bc2 c5 11. d4 Qc7 12. Nbd2 Nc6" => "C98",
    "1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 O-O 8. c3 d6 9. h3 Na5 10. Bc2 c5 11. d4 Qc7 12. Nbd2 cxd4 13. cxd4" => "C99",
    "1. d4 d5" => "D00",
    "1. d4 d5 2. Nc3 Nf6 3. Bg5" => "D01",
    "1. d4 d5 2. Nf3" => "D02",
    "1. d4 d5 2. Nf3 Nf6 3. Bg5" => "D03",
    "1. d4 d5 2. Nf3 Nf6 3. e3" => "D04",
    "1. d4 d5 2. Nf3 Nf6 3. e3 e6" => "D05",
    "1. d4 d5 2. c4" => "D06",
    "1. d4 d5 2. c4 Nc6" => "D07",
    "1. d4 d5 2. c4 e5" => "D08",
    "1. d4 d5 2. c4 e5 3. dxe5 d4 4. Nf3 Nc6 5. g3" => "D09",
    "1. d4 d5 2. c4 c6" => "D10",
    "1. d4 d5 2. c4 c6 3. Nf3" => "D11",
    "1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. e3 Bf5" => "D12",
    "1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. cxd5 cxd5" => "D13",
    "1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. cxd5 cxd5 5. Nc3 Nc6 6. Bf4 Bf5" => "D14",
    "1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3" => "D15",
    "1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3 dxc4 5. a4" => "D16",
    "1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3 dxc4 5. a4 Bf5" => "D17",
    "1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3 dxc4 5. a4 Bf5 6. e3" => "D18",
    "1. d4 d5 2. c4 c6 3. Nf3 Nf6 4. Nc3 dxc4 5. a4 Bf5 6. e3 e6 7. Bxc4 Bb4 8. O-O O-O 9. Qe2" => "D19",
    "1. d4 d5 2. c4 dxc4" => "D20",
    "1. d4 d5 2. c4 dxc4 3. Nf3" => "D21",
    "1. d4 d5 2. c4 dxc4 3. Nf3 a6" => "D22",
    "1. d4 d5 2. c4 dxc4 3. Nf3 Nf6" => "D23",
    "1. d4 d5 2. c4 dxc4 3. Nf3 Nf6 4. Nc3" => "D24",
    "1. d4 d5 2. c4 dxc4 3. Nf3 Nf6 4. e3" => "D25",
    "1. d4 d5 2. c4 dxc4 3. Nf3 Nf6 4. e3 e6" => "D26",
    "1. d4 d5 2. c4 dxc4 3. Nf3 Nf6 4. e3 e6 5. Bxc4 c5 6. O-O a6" => "D27",
    "1. d4 d5 2. c4 dxc4 3. Nf3 Nf6 4. e3 e6 5. Bxc4 c5 6. O-O a6 7. Qe2" => "D28",
    "1. d4 d5 2. c4 dxc4 3. Nf3 Nf6 4. e3 e6 5. Bxc4 c5 6. O-O a6 7. Qe2 b5 8. Bb3 Bb7" => "D29",
    "1. d4 d5 2. c4 e6" => "D30",
    "1. d4 d5 2. c4 e6 3. Nc3" => "D31",
    "1. d4 d5 2. c4 e6 3. Nc3 c5" => "D32",
    "1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3" => "D33",
    "1. d4 d5 2. c4 e6 3. Nc3 c5 4. cxd5 exd5 5. Nf3 Nc6 6. g3 Nf6 7. Bg2 Be7" => "D34",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6" => "D35",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. cxd5 exd5 5. Bg5 c6 6. Qc2" => "D36",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3" => "D37",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 Bb4" => "D38",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 Bb4 5. Bg5 dxc4" => "D39",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5" => "D40",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5" => "D41",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c5 5. cxd5 Nxd5 6. e3 Nc6 7. Bd3" => "D42",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c6" => "D43",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c6 5. Bg5 dxc4" => "D44",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c6 5. e3" => "D45",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c6 5. e3 Nbd7 6. Bd3" => "D46",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c6 5. e3 Nbd7 6. Bd3 dxc4 7. Bxc4" => "D47",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c6 5. e3 Nbd7 6. Bd3 dxc4 7. Bxc4 b5 8. Bd3 a6" => "D48",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Nf3 c6 5. e3 Nbd7 6. Bd3 dxc4 7. Bxc4 b5 8. Bd3 a6 9. e4 c5 10. e5 cxd4 11. Nxb5" => "D49",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5" => "D50",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Nbd7" => "D51",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Nbd7 5. e3 c6 6. Nf3" => "D52",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7" => "D53",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Rc1" => "D54",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3" => "D55",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 h6 7. Bh4" => "D56",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 h6 7. Bh4 Ne4 8. Bxe7 Qxe7 9. cxd5 Nxc3 10. bxc3" => "D57",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 h6 7. Bh4 b6" => "D58",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 h6 7. Bh4 b6 8. cxd5 Nxd5" => "D59",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7" => "D60",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Qc2" => "D61",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Qc2 c5 8. cxd5" => "D62",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1" => "D63",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Qc2" => "D64",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Qc2 a6 9. cxd5" => "D65",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3" => "D66",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5" => "D67",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Rxc3 e5" => "D68",
    "1. d4 d5 2. c4 e6 3. Nc3 Nf6 4. Bg5 Be7 5. e3 O-O 6. Nf3 Nbd7 7. Rc1 c6 8. Bd3 dxc4 9. Bxc4 Nd5 10. Bxe7 Qxe7 11. O-O Nxc3 12. Rxc3 e5 13. dxe5 Nxe5 14. Nxe5 Qxe5" => "D69",
    "1. d4 Nf6 2. c4 g6" => "D70",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. cxd5 Nxd5" => "D71",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. cxd5 Nxd5 6. e4 Nb6 7. Ne2" => "D72",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. Nf3" => "D73",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. Nf3 O-O 6. cxd5 Nxd5 7. O-O" => "D74",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. Nf3 O-O 6. cxd5 Nxd5 7. O-O c5" => "D75",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. Nf3 O-O 6. cxd5 Nxd5 7. O-O Nb6" => "D76",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. Nf3 O-O 6. O-O" => "D77",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. Nf3 O-O 6. O-O c6" => "D78",
    "1. d4 Nf6 2. c4 g6 3. g3 d5 4. Bg2 Bg7 5. Nf3 O-O 6. O-O c6 7. cxd5 cxd5" => "D79",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5" => "D80",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Qb3" => "D81",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Bf4" => "D82",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Bf4 Bg7 5. e3 O-O" => "D83",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Bf4 Bg7 5. e3 O-O 6. cxd5 Nxd5 7. Nxd5 Qxd5 8. Bxc7" => "D84",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. cxd5 Nxd5" => "D85",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. cxd5 Nxd5 5. e4 Nxc3 6. bxc3 Bg7 7. Bc4" => "D86",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. cxd5 Nxd5 5. e4 Nxc3 6. bxc3 Bg7 7. Bc4 O-O 8. Ne2 c5" => "D87",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. cxd5 Nxd5 5. e4 Nxc3 6. bxc3 Bg7 7. Bc4 O-O 8. Ne2 c5 9. O-O Nc6 10. Be3 cxd4 11. cxd4" => "D88",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. cxd5 Nxd5 5. e4 Nxc3 6. bxc3 Bg7 7. Bc4 O-O 8. Ne2 c5 9. O-O Nc6 10. Be3 cxd4 11. cxd4 Bg4 12. f3 Na5 13. Bd3" => "D89",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3" => "D90",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. Bg5" => "D91",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. Bf4" => "D92",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. Bf4 O-O 6. e3" => "D93",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. e3" => "D94",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. e3 O-O 6. Qb3" => "D95",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. Qb3" => "D96",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. Qb3 dxc4 6. Qxc4 O-O 7. e4" => "D97",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. Qb3 dxc4 6. Qxc4 O-O 7. e4 Bg4" => "D98",
    "1. d4 Nf6 2. c4 g6 3. Nc3 d5 4. Nf3 Bg7 5. Qb3 dxc4 6. Qxc4 O-O 7. e4 Bg4 8. Be3 Nfd7 9. Qb3" => "D99",
    "1. d4 Nf6 2. c4 e6" => "E00",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2" => "E01",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Qa4+" => "E02",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Qa4+ Nbd7 6. Qxc4" => "E03",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3" => "E04",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 dxc4 5. Nf3 Be7" => "E05",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3" => "E06",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7" => "E07",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2" => "E08",
    "1. d4 Nf6 2. c4 e6 3. g3 d5 4. Bg2 Be7 5. Nf3 O-O 6. O-O Nbd7 7. Qc2 c6 8. Nbd2" => "E09",
    "1. d4 Nf6 2. c4 e6 3. Nf3" => "E10",
    "1. d4 Nf6 2. c4 e6 3. Nf3 Bb4+" => "E11",
    "1. d4 Nf6 2. c4 e6 3. Nf3 b6" => "E12",
    "1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. Nc3 Bb7 5. Bg5 h6 6. Bh4 Bb4" => "E13",
    "1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. e3" => "E14",
    "1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3" => "E15",
    "1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3 Bb7 5. Bg2 Bb4+" => "E16",
    "1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3 Bb7 5. Bg2 Be7" => "E17",
    "1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3 Bb7 5. Bg2 Be7 6. O-O O-O 7. Nc3" => "E18",
    "1. d4 Nf6 2. c4 e6 3. Nf3 b6 4. g3 Bb7 5. Bg2 Be7 6. O-O O-O 7. Nc3 Ne4 8. Qc2 Nxc3 9. Qxc3" => "E19",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4" => "E20",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Nf3" => "E21",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qb3" => "E22",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qb3 c5 5. dxc5 Nc6" => "E23",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. a3 Bxc3+ 5. bxc3" => "E24",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. a3 Bxc3+ 5. bxc3 c5 6. f3 d5 7. cxd5" => "E25",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. a3 Bxc3+ 5. bxc3 c5 6. e3" => "E26",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. a3 Bxc3+ 5. bxc3 O-O" => "E27",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. a3 Bxc3+ 5. bxc3 O-O 6. e3" => "E28",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. a3 Bxc3+ 5. bxc3 O-O 6. e3 c5 7. Bd3 Nc6" => "E29",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Bg5" => "E30",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Bg5 h6 5. Bh4 c5 6. d5 d6" => "E31",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2" => "E32",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 Nc6" => "E33",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5" => "E34",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. cxd5 exd5" => "E35",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. a3" => "E36",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 d5 5. a3 Bxc3+ 6. Qxc3 Ne4 7. Qc2" => "E37",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 c5" => "E38",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. Qc2 c5 5. dxc5 O-O" => "E39",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3" => "E40",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 c5" => "E41",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 c5 5. Ne2" => "E42",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 b6" => "E43",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 b6 5. Ne2" => "E44",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 b6 5. Ne2 Ba6" => "E45",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O" => "E46",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Bd3" => "E47",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Bd3 d5" => "E48",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Bd3 d5 6. a3 Bxc3+ 7. bxc3" => "E49",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3" => "E50",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5" => "E51",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5 6. Bd3 b6" => "E52",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5 6. Bd3 c5" => "E53",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5 6. Bd3 c5 7. O-O dxc4 8. Bxc4" => "E54",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5 6. Bd3 c5 7. O-O dxc4 8. Bxc4 Nbd7" => "E55",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5 6. Bd3 c5 7. O-O Nc6" => "E56",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5 6. Bd3 c5 7. O-O Nc6 8. a3 dxc4 9. Bxc4 cxd4" => "E57",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5 6. Bd3 c5 7. O-O Nc6 8. a3 Bxc3 9. bxc3" => "E58",
    "1. d4 Nf6 2. c4 e6 3. Nc3 Bb4 4. e3 O-O 5. Nf3 d5 6. Bd3 c5 7. O-O Nc6 8. a3 Bxc3 9. bxc3 dxc4 10. Bxc4" => "E59",
    "1. d4 Nf6 2. c4 g6" => "E60",
    "1. d4 Nf6 2. c4 g6 3. Nc3" => "E61",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. Nf3 d6 5. g3" => "E62",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. Nf3 d6 5. g3 O-O 6. Bg2 Nc6 7. O-O a6" => "E63",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. Nf3 d6 5. g3 O-O 6. Bg2 c5" => "E64",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. Nf3 d6 5. g3 O-O 6. Bg2 c5 7. O-O" => "E65",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. Nf3 d6 5. g3 O-O 6. Bg2 c5 7. O-O Nc6 8. d5" => "E66",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. Nf3 d6 5. g3 O-O 6. Bg2 Nbd7" => "E67",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. Nf3 d6 5. g3 O-O 6. Bg2 Nbd7 7. O-O e5 8. e4" => "E68",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. Nf3 d6 5. g3 O-O 6. Bg2 Nbd7 7. O-O e5 8. e4 c6 9. h3" => "E69",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4" => "E70",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. h3" => "E71",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. g3" => "E72",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Be2" => "E73",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Be2 O-O 6. Bg5 c5" => "E74",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Be2 O-O 6. Bg5 c5 7. d5 e6" => "E75",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f4" => "E76",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f4 O-O 6. Be2" => "E77",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f4 O-O 6. Be2 c5 7. Nf3" => "E78",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f4 O-O 6. Be2 c5 7. Nf3 cxd4 8. Nxd4 Nc6 9. Be3" => "E79",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3" => "E80",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O" => "E81",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O 6. Be3 b6" => "E82",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O 6. Be3 Nc6" => "E83",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O 6. Be3 Nc6 7. Nge2 a6 8. Qd2 Rb8" => "E84",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O 6. Be3 e5" => "E85",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O 6. Be3 e5 7. Nge2 c6" => "E86",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O 6. Be3 e5 7. d5" => "E87",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O 6. Be3 e5 7. d5 c6" => "E88",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. f3 O-O 6. Be3 e5 7. d5 c6 8. Nge2 cxd5" => "E89",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3" => "E90",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2" => "E91",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5" => "E92",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. d5 Nbd7" => "E93",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O" => "E94",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nbd7 8. Re1" => "E95",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nbd7 8. Re1 c6 9. Bf1 a5" => "E96",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nc6" => "E97",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nc6 8. d5 Ne7 9. Ne1" => "E98",
    "1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O 6. Be2 e5 7. O-O Nc6 8. d5 Ne7 9. Ne1 Nd7 10. f3 f5" => "E99"
  }
end

main
